<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>BataTECH Cursos EAD</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  {% load static %}
  <link rel="stylesheet" href="{% static 'seleciona.css' %}">
  <link rel="icon" type="image/png" href="{% static 'imagens/favicon.png' %}">
</head>
<body>
  <div class="container">
    <h1 class="titulo">Selecione o curso que deseja alterar</h1>

    <div class="dropdown">
      <select id="cursoSelect" onchange="habilitarAlterar()">
        <option value="">-- Selecione um curso --</option>
        {% for curso in cursos %}
          <option value="{{ curso.id_curso }}">{{ curso.nome }}</option>
        {% endfor %}
      </select>
    </div>

    <div class="botoes">
      <a href="professor" class="botao voltar">Voltar</a>
      <a id="linkAlterar" href="#" class="botao alterar desabilitado" onclick="return false;">Alterar</a>
    </div>
  </div>

  <script src="{% static 'js/configglobal.js' %}"></script>
  <script>
    function habilitarAlterar() {
      const select = document.getElementById("cursoSelect");
      const alterar = document.getElementById("linkAlterar");

      if (select.value) {
        alterar.href = `{% url 'Altera' %}?id=` + select.value;
        alterar.classList.remove("desabilitado");
        alterar.onclick = null;
      } else {
        alterar.href = "#";
        alterar.classList.add("desabilitado");
        alterar.onclick = () => false;
      }
    }
  </script>
</body>
</html>
